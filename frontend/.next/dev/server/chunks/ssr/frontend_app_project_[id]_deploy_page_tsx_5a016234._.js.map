{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jason/Nocodile/frontend/app/project/%5Bid%5D/deploy/page.tsx"],"sourcesContent":["\r\n\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { ApiService } from \"../../../../lib/api\";\r\nimport { log } from \"@/lib/logger\";\r\n\r\n\r\ninterface ModelPerformance {\r\n  precision?: number;\r\n  recall?: number;\r\n  f1_score?: number;\r\n  accuracy?: number;\r\n  status?: string;\r\n}\r\n\r\ninterface ModelPath {\r\n  onnx_path?: string;\r\n  pytorch_path?: string;\r\n  config_path?: string;\r\n  weights_path?: string;\r\n}\r\n\r\ninterface TrainingStatus {\r\n  success: boolean;\r\n  status: string;\r\n  progress: number;\r\n  message?: string;\r\n}\r\n\r\ninterface DebugInfo {\r\n  project_id: string;\r\n  opencv_available: boolean;\r\n  current_working_dir: string;\r\n  project_paths: Array<{\r\n    path: string;\r\n    exists: boolean;\r\n    is_dir: boolean;\r\n    videos_dir?: string;\r\n    videos_dir_exists?: boolean;\r\n    video_files: string[];\r\n  }>;\r\n  video_files: string[];\r\n  total_videos: number;\r\n}\r\n\r\ninterface HealthStatus {\r\n  status: string;\r\n  message: string;\r\n  timestamp?: string;\r\n}\r\n\r\nexport default function DeployPage() {\r\n  const params = useParams();\r\n  const projectId = params.id as string;\r\n\r\n  // State for model data\r\n  const [performance, setPerformance] = useState<ModelPerformance>({});\r\n  const [modelPath, setModelPath] = useState<ModelPath>({});\r\n  const [trainingStatus, setTrainingStatus] = useState<TrainingStatus | null>(\r\n    null\r\n  );\r\n\r\n  // State for debug information\r\n  const [debugInfo, setDebugInfo] = useState<DebugInfo | null>(null);\r\n  const [healthStatus, setHealthStatus] = useState<HealthStatus | null>(null);\r\n  const [availableRoutes, setAvailableRoutes] = useState<any[]>([]);\r\n\r\n  // UI state\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n  if (!projectId) return;\r\n\r\n  const loadDeploymentData = async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      log.info(\"DEPLOY\", \"Loading deployment data\", { projectId });\r\n\r\n      // ‰∏¶Ë°åËºâÂÖ• 4 ÂÄã APIÔºàÂÆåÂÖ®Á¨¶Âêà‰Ω†ÁöÑÈúÄÊ±ÇÔºâ\r\n      const [\r\n        performanceData,\r\n        pathData,\r\n        trainingData,\r\n        healthData\r\n      ] = await Promise.all([\r\n        ApiService.getModelPerformance(projectId),\r\n        ApiService.getModelPath(projectId),\r\n        ApiService.getTrainingStatus(projectId),\r\n        ApiService.checkBackendHealth()\r\n      ]);\r\n\r\n      // 1. Ê®°ÂûãÊïàËÉΩ\r\n      if (performanceData.success) {\r\n        setPerformance(performanceData[\"model performance\"]);\r\n        log.info(\"DEPLOY\", \"Model performance loaded\", {\r\n          projectId,\r\n          performance: performanceData[\"model performance\"],\r\n        });\r\n      }\r\n\r\n      // 2. Ê®°ÂûãË∑ØÂæë\r\n      if (pathData.success) {\r\n        setModelPath(pathData[\"model path\"]);\r\n        log.info(\"DEPLOY\", \"Model paths loaded\", {\r\n          projectId,\r\n          paths: pathData[\"model path\"],\r\n        });\r\n      }\r\n\r\n      // 3. Ë®ìÁ∑¥ÁãÄÊÖã\r\n      setTrainingStatus(trainingData);\r\n      log.info(\"DEPLOY\", \"Training status loaded\", {\r\n        projectId,\r\n        training: trainingData,\r\n      });\r\n\r\n      // 4. ÂæåÁ´ØÂÅ•Â∫∑\r\n      setHealthStatus(healthData);\r\n      log.info(\"DEPLOY\", \"Health status loaded\", {\r\n        projectId,\r\n        health: healthData,\r\n      });\r\n\r\n      // Ê≤íÊúâ available_routesÔºåÂÆåÂÖ®Á¨¶Âêà‰Ω†ÁöÑÈúÄÊ±ÇÔºÅ\r\n\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : String(err);\r\n      log.error(\"DEPLOY\", \"Error loading deployment data\", {\r\n        projectId,\r\n        error: errorMessage,\r\n      });\r\n      setError(\"Failed to load deployment data\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  loadDeploymentData();\r\n}, [projectId]);\r\n\r\n  const loadDebugInfo = async () => {\r\n    if (!projectId) return;\r\n\r\n    try {\r\n      log.info(\"DEPLOY\", \"Loading debug information\", { projectId });\r\n\r\n      const [projectDebug, frameDebug, videoDebug] = await Promise.all([\r\n        ApiService.getProjectDebugInfo(projectId),\r\n        ApiService.getFrameDebugInfo(projectId),\r\n        ApiService.getVideoDebugInfo(projectId),\r\n      ]);\r\n\r\n      setDebugInfo(projectDebug);\r\n      log.info(\"DEPLOY\", \"Debug information loaded\", {\r\n        projectId,\r\n        debug: { projectDebug, frameDebug, videoDebug },\r\n      });\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : String(err);\r\n      log.error(\"DEPLOY\", \"Error loading debug information\", {\r\n        projectId,\r\n        error: errorMessage,\r\n      });\r\n      console.error(\"Error loading debug information:\", err);\r\n    }\r\n  };\r\n\r\n  const formatPercentage = (value?: number) => {\r\n    if (value === undefined) return \"N/A\";\r\n    return `${Math.round(value * 100)}%`;\r\n  };\r\n\r\n  const handleDownloadModel = async (fileType:string\r\n  ) => {\r\n    try {\r\n      const result = await ApiService.downloadModelFile(projectId,'pytorch');\r\n\r\n      if (result.success && result.downloadUrl) {\r\n        const link = document.createElement(\"a\");\r\n        link.href = result.downloadUrl;\r\n        link.download = `model_${projectId}.${fileType}`;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      } else {\r\n        alert(result.error || \"Model file not available for download\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error downloading model:\", error);\r\n      alert(\"Failed to download model file\");\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status.toLowerCase()) {\r\n      case \"completed\":\r\n      case \"healthy\":\r\n        return \"text-green-600\";\r\n      case \"training\":\r\n      case \"in progress\":\r\n        return \"text-blue-600\";\r\n      case \"failed\":\r\n      case \"error\":\r\n        return \"text-red-600\";\r\n      default:\r\n        return \"text-gray-600\";\r\n    }\r\n  };\r\n\r\n  const getProgressColor = (progress: number) => {\r\n    if (progress >= 100) return \"bg-green-500\";\r\n    if (progress >= 50) return \"bg-blue-500\";\r\n    if (progress >= 25) return \"bg-yellow-500\";\r\n    return \"bg-gray-300\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 text-gray-800\">\r\n      {/* Main content */}\r\n      <main className=\"space-y-6\">\r\n        {error && (\r\n          <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n            <div className=\"flex\">\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm\">{error}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* Model Performance */}\r\n        <section className=\"space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h1 className=\"text-lg font-semibold\">Model Performance</h1>\r\n            {performance.status && (\r\n              <div\r\n                className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                  performance.status.includes(\"Fallback\")\r\n                    ? \"bg-yellow-100 text-yellow-800\"\r\n                    : performance.status.includes(\"mock\")\r\n                      ? \"bg-orange-100 text-orange-800\"\r\n                      : \"bg-green-100 text-green-800\"\r\n                }`}\r\n              >\r\n                {performance.status.includes(\"Fallback\")\r\n                  ? \"‚ö†Ô∏è Fallback Data\"\r\n                  : performance.status.includes(\"mock\")\r\n                    ? \"üîÑ Mock Data\"\r\n                    : \"‚úÖ Backend Data\"}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {isLoading ? (\r\n            <div className=\"flex justify-center items-center py-8\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n              <span className=\"ml-2\">\r\n                Loading performance metrics from backend...\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n              <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\r\n                <div className=\"text-sm font-medium text-gray-600\">\r\n                  Accuracy\r\n                </div>\r\n                <div className=\"mt-2 text-3xl font-bold text-green-600\">\r\n                  {formatPercentage(performance.accuracy)}\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\r\n                <div className=\"text-sm font-medium text-gray-600\">\r\n                  Precision\r\n                </div>\r\n                <div className=\"mt-2 text-2xl font-bold text-green-600\">\r\n                  {formatPercentage(performance.precision)}\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\r\n                <div className=\"text-sm font-medium text-gray-600\">Recall</div>\r\n                <div className=\"mt-2 text-2xl font-bold text-orange-600\">\r\n                  {formatPercentage(performance.recall)}\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\r\n                <div className=\"text-sm font-medium text-gray-600\">\r\n                  F1-Score\r\n                </div>\r\n                <div className=\"mt-2 text-2xl font-bold text-purple-600\">\r\n                  {formatPercentage(performance.f1_score)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        {/* Deploy Your Model */}\r\n        <section className=\"bg-white rounded-xl border border-gray-200 p-4 space-y-4\">\r\n          <h2 className=\"text-lg font-semibold\">Deploy Your Model</h2>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n            {/* Option 1: Download Model Files */}\r\n            <div className=\"rounded-lg border border-gray-200 p-4\">\r\n              <h3 className=\"font-semibold\">Option 1: Download Model Files</h3>\r\n              <p className=\"mt-1 text-sm text-gray-600\">\r\n                Download the trained model files in various formats for\r\n                deployment.\r\n              </p>\r\n              <div className=\"mt-3 space-y-2\">\r\n                <div className=\"text-xs text-gray-500\">\r\n                  Download the File\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <button\r\n                    onClick={() => handleDownloadModel(\"file\")}\r\n                    className=\"inline-flex items-center bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 text-sm\"\r\n                  >\r\n                    Download the file\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Option 2: Cloud API */}\r\n            <div className=\"rounded-lg border border-gray-200 p-4\">\r\n              <h3 className=\"font-semibold\">Option 2: Cloud API</h3>\r\n              <p className=\"mt-1 text-sm text-gray-600\">\r\n                Use our hosted API for inference. Here's how to get started:\r\n              </p>\r\n              <pre className=\"mt-3 bg-gray-900 text-gray-100 rounded-lg p-4 overflow-x-auto text-sm\">\r\n                {`curl -X POST \"http://localhost:8888/predict\" \\\\\r\n  -H \"Content-Type: multipart/form-data\" \\\\\r\n  -F \"file=@/path/to/image.jpg\" \\\\\r\n  -F \"project_id=${projectId}\"`}\r\n              </pre>\r\n              <div className=\"mt-2 flex gap-2\">\r\n                <Link\r\n                  href=\"#\"\r\n                  className=\"inline-flex text-blue-600 hover:underline text-sm\"\r\n                >\r\n                  Get API Key\r\n                </Link>\r\n                <span className=\"text-gray-400\">|</span>\r\n                <Link\r\n                  href=\"#\"\r\n                  className=\"inline-flex text-blue-600 hover:underline text-sm\"\r\n                >\r\n                  View API Docs\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bottom buttons */}\r\n          <div className=\"flex flex-col sm:flex-row gap-3 justify-between pt-2\">\r\n            <div className=\"flex gap-3\">\r\n              <Link\r\n                href={`/project/${projectId}/train`}\r\n                className=\"inline-flex items-center px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50\"\r\n              >\r\n                Back to Training\r\n              </Link>\r\n              <Link\r\n                href=\"#\"\r\n                className=\"inline-flex items-center px-4 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700\"\r\n              >\r\n                Configure Behavior Rules\r\n              </Link>\r\n            </div>\r\n            <Link\r\n              href=\"/dashboard\"\r\n              className=\"inline-flex items-center px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700\"\r\n            >\r\n              Create New Project\r\n            </Link>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Training Status Tab */}\r\n        {(\r\n          <section className=\"bg-white rounded-xl border border-gray-200 p-6 space-y-4\">\r\n            <h2 className=\"text-lg font-semibold\">Training Status</h2>\r\n\r\n            {trainingStatus ? (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-sm font-medium text-gray-600\">\r\n                    Status:\r\n                  </span>\r\n                  <span\r\n                    className={`text-sm font-semibold ${getStatusColor(trainingStatus.status)}`}\r\n                  >\r\n                    {trainingStatus.status}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm font-medium text-gray-600\">\r\n                      Progress:\r\n                    </span>\r\n                    <span className=\"text-sm font-semibold\">\r\n                      {trainingStatus.progress}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                    <div\r\n                      className={`h-2 rounded-full transition-all duration-300 ${getProgressColor(trainingStatus.progress)}`}\r\n                      style={{\r\n                        width: `${Math.min(trainingStatus.progress, 100)}%`,\r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n\r\n                {trainingStatus.message && (\r\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\r\n                    <p className=\"text-sm text-blue-800\">\r\n                      {trainingStatus.message}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\r\n                <p className=\"mt-2 text-sm text-gray-600\">\r\n                  Loading training status...\r\n                </p>\r\n              </div>\r\n            )}\r\n          </section>\r\n        )}\r\n\r\n        {/* Debug Info Tab */}\r\n        {(\r\n          <section className=\"bg-white rounded-xl border border-gray-200 p-6 space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-lg font-semibold\">Debug Information</h2>\r\n              <button\r\n                onClick={loadDebugInfo}\r\n                className=\"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700\"\r\n              >\r\n                Refresh Debug Info\r\n              </button>\r\n            </div>\r\n\r\n            {/* Health Status */}\r\n            {healthStatus && (\r\n              <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-gray-700 mb-2\">\r\n                  Backend Health\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">Status:</span>\r\n                    <span\r\n                      className={`text-sm font-semibold ${getStatusColor(healthStatus.status)}`}\r\n                    >\r\n                      {healthStatus.status}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">Message:</span>\r\n                    <span className=\"text-sm\">{healthStatus.message}</span>\r\n                  </div>\r\n                  {healthStatus.timestamp && (\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-sm text-gray-600\">Timestamp:</span>\r\n                      <span className=\"text-sm\">{healthStatus.timestamp}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Available Routes */}\r\n            {availableRoutes.length > 0 && (\r\n              <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-gray-700 mb-2\">\r\n                  Available API Routes ({availableRoutes.length})\r\n                </h3>\r\n                <div className=\"max-h-40 overflow-y-auto\">\r\n                  <div className=\"space-y-1\">\r\n                    {availableRoutes.slice(0, 10).map((route, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"flex items-center gap-2 text-sm\"\r\n                      >\r\n                        <span className=\"font-mono text-blue-600\">\r\n                          {route.methods?.join(\", \") || \"GET\"}\r\n                        </span>\r\n                        <span className=\"text-gray-600\">{route.path}</span>\r\n                      </div>\r\n                    ))}\r\n                    {availableRoutes.length > 10 && (\r\n                      <div className=\"text-xs text-gray-500\">\r\n                        ... and {availableRoutes.length - 10} more routes\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Project Debug Info */}\r\n            {debugInfo && (\r\n              <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-gray-700 mb-2\">\r\n                  Project Debug Information\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      OpenCV Available:\r\n                    </span>\r\n                    <span\r\n                      className={`text-sm font-semibold ${debugInfo.opencv_available ? \"text-green-600\" : \"text-red-600\"}`}\r\n                    >\r\n                      {debugInfo.opencv_available ? \"Yes\" : \"No\"}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">Total Videos:</span>\r\n                    <span className=\"text-sm font-semibold\">\r\n                      {debugInfo.total_videos}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      Working Directory:\r\n                    </span>\r\n                    <span className=\"text-sm font-mono text-gray-500\">\r\n                      {debugInfo.current_working_dir}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Project Paths */}\r\n                {debugInfo.project_paths.length > 0 && (\r\n                  <div className=\"mt-4\">\r\n                    <h4 className=\"font-medium text-gray-700 mb-2\">\r\n                      Project Paths\r\n                    </h4>\r\n                    <div className=\"space-y-2\">\r\n                      {debugInfo.project_paths.map((path, index) => (\r\n                        <div\r\n                          key={index}\r\n                          className=\"bg-white rounded p-2 text-sm\"\r\n                        >\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <span className=\"font-mono text-gray-600\">\r\n                              {path.path}\r\n                            </span>\r\n                            <span\r\n                              className={`px-2 py-1 rounded text-xs ${\r\n                                path.exists\r\n                                  ? \"bg-green-100 text-green-800\"\r\n                                  : \"bg-red-100 text-red-800\"\r\n                              }`}\r\n                            >\r\n                              {path.exists ? \"Exists\" : \"Not Found\"}\r\n                            </span>\r\n                          </div>\r\n                          {path.videos_dir && (\r\n                            <div className=\"mt-1 text-xs text-gray-500\">\r\n                              Videos: {path.videos_dir} (\r\n                              {path.video_files.length} files)\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {!debugInfo && (\r\n              <div className=\"text-center py-8\">\r\n                <button\r\n                  onClick={loadDebugInfo}\r\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n                >\r\n                  Load Debug Information\r\n                </button>\r\n              </div>\r\n            )}\r\n          </section>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}