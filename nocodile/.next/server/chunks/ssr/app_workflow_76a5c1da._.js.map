{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///home/kris/Desktop/Nocodile/nocodile/app/workflow/components/GenericBlock.tsx"],"sourcesContent":["import React from \"react\";\nimport { useDraggable } from \"@dnd-kit/core\";\nexport interface GenericBlockData {\n  id: number;\n  x: number;\n  y: number;\n  title: string;\n  label: string;\n}\ntype GenericBlockProps = {\n  block: GenericBlockData;\n};\n\nexport const GenericBlock = ({ block }: GenericBlockProps) => {\n  //just dnd stuff\n  const { attributes, listeners, setNodeRef, transform } = useDraggable({\n    id: block.id,\n  });\n\n  const style: React.CSSProperties = {\n    position: \"absolute\",\n    left: block.x,\n    top: block.y,\n    transform: transform\n      ? `translate(${transform.x}px, ${transform.y}px)`\n      : undefined,\n    scale: transform ? 1.01 : 1,\n    cursor: transform ? \"grabbing\" : \"grab\",\n    transition: \"scale 0.05s ease\",\n  };\n  return (\n    <div\n      className=\"p-4 border w-[200px] m-1 border-black-200 rounded-xl\"\n      ref={setNodeRef}\n      {...listeners}\n      {...attributes}\n      onMouseDown={(e) => e.stopPropagation()}\n      style={style}\n    >\n      <h1>{block.title || \"Empty title\"}</h1>\n      <small>\n        x: {block.x}, y: {block.y}\n      </small>\n      <p>{block.label}</p>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AACA;;;AAYO,MAAM,eAAe,CAAC,EAAE,KAAK,EAAqB;IACvD,gBAAgB;IAChB,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,ySAAA,CAAA,eAAY,AAAD,EAAE;QACpE,IAAI,MAAM,EAAE;IACd;IAEA,MAAM,QAA6B;QACjC,UAAU;QACV,MAAM,MAAM,CAAC;QACb,KAAK,MAAM,CAAC;QACZ,WAAW,YACP,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,GAAG,CAAC,GAC/C;QACJ,OAAO,YAAY,OAAO;QAC1B,QAAQ,YAAY,aAAa;QACjC,YAAY;IACd;IACA,qBACE,6WAAC;QACC,WAAU;QACV,KAAK;QACJ,GAAG,SAAS;QACZ,GAAG,UAAU;QACd,aAAa,CAAC,IAAM,EAAE,eAAe;QACrC,OAAO;;0BAEP,6WAAC;0BAAI,MAAM,KAAK,IAAI;;;;;;0BACpB,6WAAC;;oBAAM;oBACD,MAAM,CAAC;oBAAC;oBAAM,MAAM,CAAC;;;;;;;0BAE3B,6WAAC;0BAAG,MAAM,KAAK;;;;;;;;;;;;AAGrB","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///home/kris/Desktop/Nocodile/nocodile/app/workflow/components/Workspace.tsx"],"sourcesContent":["import React from \"react\";\nimport { GenericBlock, GenericBlockData } from \"./GenericBlock\";\nimport { useDroppable } from \"@dnd-kit/core\";\n\nexport type WorkspaceData = {\n  id: number;\n  title: string;\n};\ntype WorkspaceProps = {\n  workspace: WorkspaceData;\n  blocks: GenericBlockData[];\n  onBackgroundMouseDown?: (e: React.MouseEvent<HTMLDivElement>) => void;\n};\n\nexport const Workspace = ({ workspace, blocks, onBackgroundMouseDown }: WorkspaceProps) => {\n  //dnd stuff\n  const { setNodeRef } = useDroppable({ id: workspace.id });\n  return (\n    <div\n      ref={setNodeRef}\n      className=\"relative border min-h-screen border-black-200 shadow-inner rounded-md p-2\"\n      onMouseDown={onBackgroundMouseDown}\n    >\n      <h2>{workspace.title}</h2>\n      {blocks.map((block, index) => {\n        return <GenericBlock key={index} block={block} />;\n      })}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AACA;AACA;;;;AAYO,MAAM,YAAY,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,qBAAqB,EAAkB;IACpF,WAAW;IACX,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,ySAAA,CAAA,eAAY,AAAD,EAAE;QAAE,IAAI,UAAU,EAAE;IAAC;IACvD,qBACE,6WAAC;QACC,KAAK;QACL,WAAU;QACV,aAAa;;0BAEb,6WAAC;0BAAI,UAAU,KAAK;;;;;;YACnB,OAAO,GAAG,CAAC,CAAC,OAAO;gBAClB,qBAAO,6WAAC,8IAAA,CAAA,eAAY;oBAAa,OAAO;mBAAd;;;;;YAC5B;;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///home/kris/Desktop/Nocodile/nocodile/app/workflow/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { GenericBlockData } from \"./components/GenericBlock\";\nimport { useState } from \"react\";\nimport { WorkspaceData, Workspace } from \"./components/Workspace\";\nimport { DndContext, DragEndEvent, DragMoveEvent } from \"@dnd-kit/core\";\n\nlet clickedOnBlock = false;\n\nconst test_workspace: WorkspaceData = {\n  id: 1,\n  title: \"Test workspace\",\n};\nconst test_blocks: GenericBlockData[] = [\n  { id: 1, x: 0, y: 0, title: \"Test title\", label: \"Hello!\" },\n  { id: 2, x: 100, y: 100, title: \"Test tity\", label: \"My name is Gustavo!\" },\n];\nconst page = () => {\n  const [blocks, setBlocks] = useState<GenericBlockData[]>(test_blocks);\n  function handleClick(e: React.MouseEvent<HTMLDivElement>) {\n    console.log(\"click\");\n  }\n  function handleBackgroundMouseDown(e: React.MouseEvent<HTMLDivElement>) {\n    // This fires only when clicking the workspace background (blocks stop propagation)\n    console.log(\"Background clicked\");\n    // TODO: clear selection, start marquee, etc.\n  }\n  function handleDragEnd(e: DragEndEvent) {\n    const { active, delta } = e;\n    setBlocks(\n      (\n        prev //pass prev state of the blocks array into func\n      ) =>\n        prev.map((b) =>\n          b.id === (active.id as number)\n            ? {\n                ...b,\n                x: Math.round(b.x + delta.x),\n                y: Math.round(b.y + delta.y), //update coords\n              }\n            : b\n        )\n    );\n  }\n  function handleDragMove(e: DragMoveEvent) {\n    const { active, over } = e;\n    //console.log(active, over);\n  }\n  return (\n    <main>\n      <DndContext onDragEnd={handleDragEnd} onDragMove={handleDragMove}>\n        <Workspace\n          workspace={test_workspace}\n          blocks={blocks}\n          onBackgroundMouseDown={handleBackgroundMouseDown}\n        />\n      </DndContext>\n    </main>\n  );\n};\n\nexport default page;\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AANA;;;;;AAQA,IAAI,iBAAiB;AAErB,MAAM,iBAAgC;IACpC,IAAI;IACJ,OAAO;AACT;AACA,MAAM,cAAkC;IACtC;QAAE,IAAI;QAAG,GAAG;QAAG,GAAG;QAAG,OAAO;QAAc,OAAO;IAAS;IAC1D;QAAE,IAAI;QAAG,GAAG;QAAK,GAAG;QAAK,OAAO;QAAa,OAAO;IAAsB;CAC3E;AACD,MAAM,OAAO;IACX,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAsB;IACzD,SAAS,YAAY,CAAmC;QACtD,QAAQ,GAAG,CAAC;IACd;IACA,SAAS,0BAA0B,CAAmC;QACpE,mFAAmF;QACnF,QAAQ,GAAG,CAAC;IACZ,6CAA6C;IAC/C;IACA,SAAS,cAAc,CAAe;QACpC,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG;QAC1B,UACE,CACE,KAAK,+CAA+C;WAEpD,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,EAAE,KAAM,OAAO,EAAE,GACf;oBACE,GAAG,CAAC;oBACJ,GAAG,KAAK,KAAK,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;oBAC3B,GAAG,KAAK,KAAK,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;gBAC7B,IACA;IAGZ;IACA,SAAS,eAAe,CAAgB;QACtC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;IACzB,4BAA4B;IAC9B;IACA,qBACE,6WAAC;kBACC,cAAA,6WAAC,ySAAA,CAAA,aAAU;YAAC,WAAW;YAAe,YAAY;sBAChD,cAAA,6WAAC,2IAAA,CAAA,YAAS;gBACR,WAAW;gBACX,QAAQ;gBACR,uBAAuB;;;;;;;;;;;;;;;;AAKjC;uCAEe","debugId":null}}]
}